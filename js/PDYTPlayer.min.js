function $$(e){switch(e){case void 0:case null:return!1;default:return!0}}function $$null(e){switch(e){case void 0:case null:return!0;default:return!1}}function $url(){return new URL(location.href)}function $qaram(e){return $url().searchParams.get(e)}var onYouTubeIframeAPIReady;Array.prototype.$$num=Array.prototype.$$str=Array.prototype.$$obj=Array.prototype.$$elm=!1,Array.prototype.$$ary=!0,Object.prototype.$$num=Object.prototype.$$str=Object.prototype.$$ary=Object.prototype.$$elm=!1,Object.prototype.$$obj=!0,Number.prototype.$$str=Number.prototype.$$ary=Number.prototype.$$obj=Number.prototype.$$elm=!1,Number.prototype.$$num=!0,String.prototype.$$num=String.prototype.$$ary=String.prototype.$$obj=String.prototype.$$elm=!1,String.prototype.$$str=!0,HTMLElement.prototype.$$num=HTMLElement.prototype.$$str=HTMLElement.prototype.$$ary=HTMLElement.prototype.$$obj=!1,HTMLElement.prototype.$$elm=!0,Array.prototype._$=function(e){var t=[];return this.length&&this.forEach((a,r)=>{e(a,r)&&t.push(e(a,r))}),Array.from(t)},String.prototype.$$200=function(){return new Promise((e,t)=>{var a=new Image;a.src=String(this),a.onload=(t=>{e(t)}),a.onerror=(e=>{t(e)})})},String.prototype._=function(e,t){var a=this.match(/^\w+(?=[\#\.]*)/)[0],r=this.match(/\#([\w_-]+)?/)?this.match(/\#([\w_-]+)?/)[1]:null,n=this.match(/\.([\w_-]+)?/g)?this.match(/\.([\w_-]+)?/g)._$(e=>e.replace(/^\./,"")).join(" "):null,o=document.createElement(a);r&&(o.id=r),n&&(o.className=n);var l=null,i=null;switch(!0){case!e&&!t:return o;case!e&&t:i=t;break;case e&&!t:l=e.length?null:e,i=e.length?e:null;break;default:l=e,i=t}return $$(l)&&Object.keys(l).forEach(e=>{"value"===e?o.value=l.value:"placeholder"===e?o.placeholder=l.placeholder:"style"===e?Object.keys(l.style).forEach(e=>o.style[e]=l.style[e]):o.setAttribute(e,l[e])}),$$null(i)?o:(i.$$str||i.$$num?o.innerHTML=i:i.$$elm?this.appendChild(i):i.$$ary&&i.length>0&&i.forEach(e=>{$$null(e)||(e.$$str||e.$$num?o.innerHTML+=e:e.$$elm&&o.appendChild(e))}),o)},String.prototype.$=function(){return/[\.\=\[\]\'\"]+/g.test(this)?document.querySelector(this):document.getElementById(this)},HTMLElement.prototype._child=function(e){return $$null(e)?this:(e.$$str||e.$$num?dom.innerHTML+=e:e.$$elm?this.appendChild(e):e.$$ary&&e.length>0&&e.forEach(e=>{$$null(e)||(e.$$str||e.$$num?this.innerHTML+=e:e.$$elm&&this.appendChild(e))}),this)},HTMLElement.prototype._click=function(e){return this.onclick=e,this},HTMLElement.prototype._input=function(e){var t=this;return t.oninput=e,t},function(){function e(){a(!0),o=setInterval(()=>{g.setAttribute("sec",Math.floor(ytplayer.getCurrentTime())),E.setAttribute("sec",Math.floor(ytplayer.getCurrentTime())),P.value=ytplayer.getCurrentTime(),r()},1e3)}function t(){a(!1),ytplayer.seekTo(0),ytplayer.pauseVideo(),g.setAttribute("sec",0),E.setAttribute("sec",0),P.value=0,r(),"undefined"!=typeof onPDYTPlayerEnd&&onPDYTPlayerEnd()}function a(e){if(h=e,e)return v.classList.add("hide"),g.classList.add("hide");v.classList.remove("hide"),g.classList.remove("hide"),clearInterval(o)}function r(){let e=Math.floor(ytplayer.getCurrentTime()),t=0,a=0,r=0;switch(!0){case e>3599:t=Math.floor(e/3600),a=Math.floor(e%3600/60),r=e%3600%60;break;case e>59:a=Math.floor(e/60),r=e%60;break;default:r=e}M.innerText=`${t<10?`0${t}`:t}:${a<10?`0${a}`:a}:${r<10?`0${r}`:r}`}function n(){h?(a(!1),ytplayer.pauseVideo(),w.children[0].className="fa-solid fa-play","undefined"!=typeof onPDYTPlayerPause&&onPDYTPlayerPause()):(a(!0),ytplayer.playVideo(),w.children[0].className="fa-solid fa-pause","undefined"!=typeof onPDYTPlayerStart&&onPDYTPlayerStart())}var o,l=PDYTPlayerConfig||{},i=l.panel||[],s=$$(l.volume)?l.volume:50,u=!!$$(l.mute)&&l.mute,c=(l.panel||[]).filter(e=>"timebar"!==e).length,p=(l.panel||[]).filter(e=>"time"===e).length,y=!!$$(l.autoplay)&&l.autoplay,d=$$(l.delay)?l.delay:0,m=1,$=Number(s),h=!1,f=Boolean(u),v="PDYTPlayer".$();let b="div#YTPlayer"._();var g="div.mask"._({sec:0},["img"._(),"i.fa-solid.fa-circle-pause"._()]),w="button"._(["i.fa-solid.fa-play"._()]),_="button"._(["input"._({type:"range",min:0,max:100,value:s})._input(function(e){var t=Number(this.value);$=t,ytplayer.isMuted()&&(T.children[0].className="fa-solid fa-volume-high",ytplayer.unMute()),ytplayer.setVolume($),this.nextElementSibling.className=0===t?"fa-solid fa-volume-xmark":t>75?"fa-solid fa-volume-high":t<25?"fa-solid fa-volume-off":"fa-solid fa-volume-low"}),`i.fa-solid.${f?"fa-volume-xmark":0===s?"fa-volume-xmark":s>75?"fa-volume-high":s<25?"fa-volume-off":"fa-volume-low"}`._()._click(function(e){this.parentElement.classList.contains("show")?this.parentElement.classList.remove("show"):this.parentElement.classList.add("show")})]),T="button"._([`i.fa-solid.${f?"fa-volume-xmark":"fa-volume-high"}`._()._click(function(e){this.className=`fa-solid ${ytplayer.isMuted()?"fa-volume-high":"fa-volume-xmark"}`,ytplayer.isMuted()?ytplayer.unMute():ytplayer.mute()})]),k="button"._(["p"._("1")._click(function(e){switch(this.innerText){case"1":m=1.25;break;case"1.25":m=1.5;break;case"1.5":m=1.75;break;case"1.75":m=2;break;case"2":m=.25;break;case"0.25":m=.5;break;case"0.5":m=.75;break;case"0.75":m=1}this.innerText=String(m),ytplayer.setPlaybackRate(Number(m))})]),P="input.slider"._({style:{width:`calc(100% - 1rem - 3rem * ${c} ${p?"- 3rem":""})`},type:"range",min:0,value:0})._input(function(e){var t=Number(this.value);ytplayer.seekTo(t),r()}),E="div.panel"._();let M="p"._("00:00:00");document.addEventListener("DOMContentLoaded",function(e){var t=[];i.forEach(e=>{"play"===e?t.push(w):"timebar"===e?t.push(P):"volume"===e?t.push(_):"mute"===e?t.push(T):"time"===e?t.push(M):"rate"===e&&t.push(k)}),v._child([b,g,E._child(t)])}),onYouTubeIframeAPIReady=function(){function r(e){return`https://i.ytimg.com/vi/${l}/${e}.jpg`}var o=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,l=$qaram("videoId")||prompt("Youtube 影片ID / 網址");if(o.test(l)){let e=l.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);l=e&&11==e[7].length?e[7]:"",history.pushState(null,null,location.href.split("?")[0]+`?videoId=${l}`)}r("maxresdefault").$$200()?g.children[0].src=r("maxresdefault"):(g.children[0].src=r("sddefault").$$200())?g.children[0].src=r("sddefault"):(g.children[0].src=r("hqdefault").$$200())?g.children[0].src=r("hqdefault"):(g.children[0].src=r("mqdefault").$$200())&&(g.children[0].src=r("mqdefault")),ytplayer=new YT.Player("YTPlayer",{videoId:l,width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,showinfo:0,modestbranding:1,loop:0,fs:0,rel:0,cc_load_policty:1,iv_load_policy:3,autohide:1,playsinline:1},events:{onReady:function(e){g._click(n),w._click(n),P.setAttribute("max",ytplayer.getDuration()),E.classList.add("show"),ytplayer.setVolume(s),f&&ytplayer.mute(),"undefined"!=typeof onPDYTPlayerReady&&onPDYTPlayerReady(),y&&setTimeout(()=>{h||n()},500+1e3*d)},onStateChange:r=>{switch(r.data,r.data){case 0:t();break;case 1:e();break;default:a(!1)}}}})},function(){if(!window.YT)var e={loading:0,loaded:0};if(!window.YTConfig)var t={host:"http://www.youtube.com"};e.loading||(e.loading=1,function(){var a=[];e.ready=function(t){e.loaded?t():a.push(t)},window.onYTReady=function(){e.loaded=1;for(var t=0;t<a.length;t++)try{a[t]()}catch(e){}},e.setConfig=function(e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])};var r=document.createElement("script");r.type="text/javascript",r.id="www-widgetapi-script",r.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vfluwQm_X/www-widgetapi.js",r.async=!0;var n=document.currentScript;if(n){var o=n.nonce||n.getAttribute("nonce");o&&r.setAttribute("nonce",o)}var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}())}()}();