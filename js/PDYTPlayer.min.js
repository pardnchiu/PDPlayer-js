function $$(t){switch(t){case void 0:case null:return!1;default:return!0}}function $$null(t){switch(t){case void 0:case null:return!0;default:return!1}}function $url(){return new URL(location.href)}function $qaram(t){return $url().searchParams.get(t)}var onYouTubeIframeAPIReady;Array.prototype.$$num=Array.prototype.$$str=Array.prototype.$$obj=Array.prototype.$$elm=Object.prototype.$$num=Object.prototype.$$str=Object.prototype.$$ary=Object.prototype.$$elm=Number.prototype.$$str=Number.prototype.$$ary=Number.prototype.$$obj=Number.prototype.$$elm=String.prototype.$$num=String.prototype.$$ary=String.prototype.$$obj=String.prototype.$$elm=HTMLElement.prototype.$$num=HTMLElement.prototype.$$str=HTMLElement.prototype.$$ary=HTMLElement.prototype.$$obj=!1,Array.prototype.$$ary=Object.prototype.$$obj=Number.prototype.$$num=String.prototype.$$str=HTMLElement.prototype.$$elm=!0,Array.prototype._$=function(t){var e=[];return this.length&&this.forEach((r,a)=>{t(r,a)&&e.push(t(r,a))}),Array.from(e)},String.prototype.$$200=function(t){return new Promise((e,r)=>{var a=new Image;a.src=String(this),a.onload=function(e){90===this.naturalHeight||120===this.naturalWidth?t(!1):t(!0)},a.onerror=function(e){t(!1)}})},String.prototype.$$json=function(){try{JSON.parse(this)}catch(t){return!1}return!0},String.prototype._=function(t,e){var r=this.match(/^\w+(?=[\#\.]*)/)[0],a=this.match(/\#([\w_-]+)?/)?this.match(/\#([\w_-]+)?/)[1]:null,n=this.match(/\.([\w_-]+)?/g)?this.match(/\.([\w_-]+)?/g)._$(t=>t.replace(/^\./,"")).join(" "):null,l=document.createElement(r);a&&(l.id=a),n&&(l.className=n);var i=null,o=null;switch(!0){case!t&&!e:return l;case!t&&e:o=e;break;case t&&!e:i=t.length?null:t,o=t.length?t:null;break;default:i=t,o=e}return $$(i)&&Object.keys(i).forEach(t=>{"value"===t?l.value=i.value:"placeholder"===t?l.placeholder=i.placeholder:"style"===t?Object.keys(i.style).forEach(t=>l.style[t]=i.style[t]):l.setAttribute(t,i[t])}),$$null(o)?l:(o.$$str||o.$$num?l.innerHTML=o:o.$$elm?this.appendChild(o):o.$$ary&&o.length>0&&o.forEach(t=>{$$null(t)||(t.$$str||t.$$num?l.innerHTML+=t:t.$$elm&&l.appendChild(t))}),l)},String.prototype.$=function(){return/[\.\=\[\]\'\"]+/g.test(this)?document.querySelector(this):document.getElementById(this)},HTMLElement.prototype.$_=function(){return this.innerHTML=null,this},HTMLElement.prototype.$child=function(t){if(!$$null(t)){var e=this;switch(!0){case t.$$str:e=e.querySelector(t);break;case t.$$num:e=t<0?e.children[e.children.length+t]:e.children[t];break;case t.$$obj:t.forEach(t=>{t.$$str?e=e.querySelector(t):t.$$num&&(e=e.children[t])})}return e}},HTMLElement.prototype._child=function(t){return $$null(t)?this:(t.$$str||t.$$num?this.innerHTML+=t:t.$$elm?this.appendChild(t):t.$$ary&&t.length>0&&t.forEach(t=>{$$null(t)||(t.$$str||t.$$num?this.innerHTML+=t:t.$$elm&&this.appendChild(t))}),this)},HTMLElement.prototype.$attr=function(t){return $$(t)&&t.$$str?this.getAttribute(t):null},HTMLElement.prototype._attr=function(t){return $$(t)&&t.$$obj&&t.$forEach(e=>{$$(e)&&e.$$str&&this.setAttribute(e,t[e])}),this},HTMLElement.prototype.$next=function(t){var e=this.nextElementSibling;if(!t)return e;for(let r=0;r<t;r++)e=e.nextElementSibling;return e},HTMLElement.prototype.$parent=function(t){var e=this.parentElement;if(!t)return e;for(let r=0;r<t;r++)e=e.parentElement;return e},HTMLElement.prototype.$$class=function(t){return!$$null(t)&&this.classList.contains(t)},HTMLElement.prototype._class=function(t){if(t.$$ary)t.forEach(t=>this.classList.add(t));else if(t.$$str){var e=(t.split(",")||t.split(".")||t.split(" ")).filter(t=>t.replace(/\s/g,"").length);e.length?e.forEach(t=>this.classList.add(t)):this.classList.add(t)}return this},HTMLElement.prototype.class_=function(t){if($$null(t))this.className="";else if(t.$$ary)t.forEach(t=>this.classList.remove(t));else if(t.$$str){var e=(t.split(",")||t.split(".")||t.split(" ")).filter(t=>t.replace(/\s/g,"").length);e.length?e.forEach(t=>this.classList.remove(t)):this.classList.remove(t)}return this},HTMLElement.prototype._class_=function(t){return $$null(t)?this.className="":t.$$ary?this.className=t.join(" "):t.$$str&&(this.className=t),this},HTMLElement.prototype._attr=function(t){return $$(t)&&t.$$obj&&Object.keys(t).forEach(e=>{$$(e)&&e.$$str&&this.setAttribute(e,t[e])}),this},HTMLElement.prototype.attr_=function(t){if($$(t))switch(!0){case t.$$str:this.removeAttribute(t);break;case t.$$ary:t.forEach(t=>{$$(t)&&t.$$str&&this.removeAttribute(t)})}return this},HTMLElement.prototype._click=function(t){return this.onclick=t,this},HTMLElement.prototype._input=function(t){return this.oninput=t,this},function(){function t(){a(!0),"undefined"!=typeof onPDYTPlayerStart&&onPDYTPlayerStart(),s=setInterval(()=>{S.value=Math.round(ytplayer.getCurrentTime()),k._attr({sec:S.value}),A._attr({sec:S.value}),i()},100),_&&(_=!1,ytplayer.seekTo(0),setTimeout(()=>k.class_("first"),5e3))}function e(){a(!1),"undefined"!=typeof onPDYTPlayerPause&&onPDYTPlayerPause(),k.class_("first")}function r(){ytplayer.seekTo(0),ytplayer.pauseVideo(),k._attr({sec:0}),A._attr({sec:0}),S.value=0,N.innerText="00:00:00",a(!1),"undefined"!=typeof onPDYTPlayerEnd&&onPDYTPlayerEnd()}function a(t){T=t,T?(E._class("hide"),k._class("hide"),L.$child(0)._class_("fa-solid fa-pause")):(E.class_("hide"),k.class_("hide"),L.$child(0)._class_("fa-solid fa-play"),clearInterval(s))}function n(t){function e(t){if(c)return t(t);if(c=prompt("Youtube 影片ID / 網址"),/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(c)){let e=c.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);c=e&&11==e[7].length?e[7]:null,c?(history.pushState(null,null,location.href.split("?")[0]+`?videoId=${c}`),t()):fitVideoId(t)}else t(t)}if(!t)return new Promise((t,r)=>e(t));e(t)}function l(t){return`https://i.ytimg.com/vi/${c}/${t}.jpg`}function i(){var t=S.value,e=0,r=0,a=0;switch(!0){case t>3599:e=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%3600%60;break;case t>59:r=Math.floor(t/60),a=t%60;break;default:a=t}N.innerText=`${e<10?`0${e}`:e}:${r<10?`0${r}`:r}:${a<10?`0${a}`:a}`}function o(){T?(a(!1),ytplayer.pauseVideo()):(a(!0),ytplayer.playVideo())}var s,u=PDYTPlayerConfig||{},c=u.videoId||$qaram("videoId")||null,p=Array.from(u.panel||[]),$=Number(u.volume||50),h=Boolean(u.mute||!1),y=Boolean(u.autoplay||!1),f=Number(u.delay||0),m=(u.panel||[]).filter(t=>"timebar"!==t).length,d=(u.panel||[]).filter(t=>"time"===t).length,_=!0,v=!1,b=1,g=Number($),T=!1,w=Boolean(h),E="PDYTPlayer".$(),P="div#YTPlayer"._(),k="div.mask.first"._({sec:0},["img"._(),"i.fa-solid.fa-circle-pause"._()]),L="button"._(["i.fa-solid.fa-play"._()]),M="button"._(["input"._({type:"range",min:0,max:100,value:$})._input(function(t){if(ytplayer){ytplayer.isMuted()&&(ytplayer.unMute(),H.$child(0)._class_("fa-solid fa-volume-high")),g=Number(this.value),ytplayer.setVolume(g);var e=["fa-solid"];0===g?e.push("fa-volume-xmark"):g>75?e.push("fa-volume-high"):g<25?e.push("fa-volume-off"):e.push("fa-volume-low"),this.$next(0)._class_(e)}}),`i.fa-solid.${w?"fa-volume-xmark":0===$?"fa-volume-xmark":$>75?"fa-volume-high":$<25?"fa-volume-off":"fa-volume-low"}`._()._click(function(t){this.$parent(0).$$class("show")?this.$parent(0).class_("show"):this.$parent(0)._class("show")})]),H="button"._([`i.fa-solid.${w?"fa-volume-xmark":"fa-volume-high"}`._()._click(function(t){ytplayer&&(w=Boolean(!ytplayer.isMuted()),w?ytplayer.mute():ytplayer.unMute(),this._class_(`fa-solid ${w?"fa-volume-xmark":"fa-volume-high"}`))})]),j="button"._(["p"._("1")._click(function(t){if(ytplayer){switch(this.innerText){case"1":b=1.5;break;case"1.5":b=2;break;case"2":b=.25;break;case"0.25":b=.5;break;case"0.5":b=1}this.innerText=String(b),ytplayer.setPlaybackRate(Number(b))}})]),Y="button"._(["i.fa-solid.fa-expand"._()._click(function(t){if(ytplayer){"PDYTPlayer".$();var e="YTPlayer".$().$attr("src");v?(v=!1,"YTPlayer".$()._attr({src:e.replace(/playsinline\=1/,"playsinline=0")})):(v=!0,"YTPlayer".$()._attr({src:e.replace(/playsinline\=0/,"playsinline=1")}))}})]),S="input"._({style:{width:`calc(100% - 1rem - 3rem * ${m} ${d?"- 3rem":""})`},type:"range",min:0,value:0})._input(function(t){ytplayer&&ytplayer.seekTo(Number(this.value))}),A="div.panel"._(),N="p"._("00:00:00");document.addEventListener("DOMContentLoaded",function(t){var e=[];p.forEach(t=>{"play"===t?e.push(L):"timebar"===t?e.push(S):"volume"===t?e.push(M):"mute"===t?e.push(H):"time"===t?e.push(N):"rate"===t?e.push(j):"full"===t&&e.push(Y)}),E._child([P,k,A._child(e)])});var x="maxresdefault",D="sddefault",I="hqdefault",O="mqdefault";onYouTubeIframeAPIReady=async function(){await n(),l(x).$$200(t=>t?k.$child(0).src=l(x):l(D).$$200(t=>t?k.$child(0).src=l(D):l(I).$$200(t=>t?k.$child(0).src=l(I):l(O).$$200(t=>t?k.$child(0).src=l(O):(alert("影片不存在"),E.$_()))))),ytplayer=new YT.Player("YTPlayer",{videoId:c,width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,showinfo:0,modestbranding:1,start:0,loop:0,fs:0,rel:0,cc_load_policty:0,iv_load_policy:3,autohide:1,playsinline:1},events:{onReady:function(t){ytplayer.setVolume($),w&&ytplayer.mute(),"undefined"!=typeof onPDYTPlayerReady&&onPDYTPlayerReady(),k._click(o),L._click(o),S._attr({max:ytplayer.getDuration()}),A._class("show"),y&&setTimeout(()=>{isOn||o()},500+1e3*f)},onStateChange:function(n){switch(n.data,n.data){case 0:r();break;case 1:t();break;case 2:e();break;default:a(!1)}}}})},function(){if(!window.YT)var t={loading:0,loaded:0};if(!window.YTConfig)var e={host:"http://www.youtube.com"};t.loading||(t.loading=1,function(){var r=[];t.ready=function(e){t.loaded?e():r.push(e)},window.onYTReady=function(){t.loaded=1;for(var e=0;e<r.length;e++)try{r[e]()}catch(t){}},t.setConfig=function(t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};var a=document.createElement("script");a.type="text/javascript",a.id="www-widgetapi-script",a.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vfluwQm_X/www-widgetapi.js",a.async=!0;var n=document.currentScript;if(n){var l=n.nonce||n.getAttribute("nonce");l&&a.setAttribute("nonce",l)}var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(a,i)}())}()}();