function $$(e){switch(e){case void 0:case null:return!1;default:return!0}}function $$null(e){switch(e){case void 0:case null:return!0;default:return!1}}function $url(){return new URL(location.href)}function $qaram(e){return $url().searchParams.get(e)}function PDYTPlayer(e){function t(){h.setVolume(v),P&&h.mute(),"undefined"!=typeof onPDYTPlayerReady&&onPDYTPlayerReady(),H._click(p),Y._click(p),I._attr({max:h.getDuration()}),R._class("show")}function n(){i(!0),"undefined"!=typeof onPDYTPlayerStart&&onPDYTPlayerStart(),w&&(w=!1,h.seekTo(0),setTimeout(()=>H.class_("first"),5e3)),m=setInterval(()=>{I.value=Math.round(h.getCurrentTime()),H._attr({sec:b?"live":I.value}),R._attr({sec:b?"live":I.value}),$()},100)}function r(){i(!1),H.class_("first")}function o(){h.seekTo(0),h.pauseVideo(),H._attr({sec:b?"live":0}),R._attr({sec:b?"live":0}),I.value=0,q.innerText="00:00:00",i(!1),"undefined"!=typeof onPDYTPlayerEnd&&onPDYTPlayerEnd()}function i(e){M=e,M?(L._class("hide"),H._class("hide"),Y.$child(0)._class_("fa-solid fa-pause")):(L.class_("hide"),H.class_("hide"),Y.$child(0)._class_("fa-solid fa-play"),clearInterval(m))}function l(e){function t(e){if(d)return e(e);if(d=prompt("Youtube 影片ID / 網址"),/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(d)){let t=d.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);d=t&&11==t[7].length?t[7]:null,d?(history.pushState(null,null,location.href.split("?")[0]+`?videoId=${d}`),e()):fitVideoId(e)}else e(e)}if(!e)return new Promise((e,n)=>t(e));t(e)}function a(e){return`https://i.ytimg.com/vi/${d}/${e}.jpg`}function s(){i(!1),f.seekTo(Number(I.value)),f.setVolume(Number(v)),f.setPlaybackRate(Number(N.$child(0).innerText)),h.pauseVideo(),f.playVideo(),_?f.mute():f.unMute()}function u(){h.seekTo(0),h.pauseVideo(),w&&(w=!1,f.seekTo(0),H.class_("first")),m=setInterval(()=>{I.value=Math.round(f.getCurrentTime()),H._attr({sec:b?"live":I.value}),R._attr({sec:b?"live":I.value}),$()},100)}function c(){h.seekTo(0),h.pauseVideo(),f.seekTo(0),f.pauseVideo(),H._attr({sec:b?"live":0}),R._attr({sec:b?"live":0}),I.value=0,q.innerText="00:00:00",i(!1),"undefined"!=typeof onPDYTPlayerEnd&&onPDYTPlayerEnd()}function $(){var e=I.value,t=0,n=0,r=0;switch(!0){case e>3599:t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%3600%60;break;case e>59:n=Math.floor(e/60),r=e%60;break;default:r=e}q.innerText=`${t<10?`0${t}`:t}:${n<10?`0${n}`:n}:${r<10?`0${r}`:r}`}function p(){M?(i(!1),h.pauseVideo()):(i(!0),h.playVideo())}if(!"PDYTPlayer".$()){e=e||{};var h,f,m,d=e.videoId||$qaram("videoId")||null,y=Array.from(e.panel||[]),v=Number(e.volume||50),_=Boolean(e.mute||!1),b=Boolean(e.live||!1),g=(e.panel||[]).filter(e=>"timebar"!==e).length,T=(e.panel||[]).filter(e=>"time"===e).length,w=!0,E=1,k=Number(v),M=!1,P=Boolean(_),L="div#PDYTPlayer"._(),S="div#YTPlayer"._(),x="div#YTPlayerFull"._(),H="div.mask.first"._({sec:b?"live":0},["img"._(),"i.fa-solid.fa-circle-pause"._()])._move(function(){L._class("temp"),setTimeout(()=>{L.class_("temp")},5e3)}),Y="button"._(["i.fa-solid.fa-play"._()]),j="button"._(["input"._({type:"range",min:0,max:100,value:v})._input(function(e){if(h){h.isMuted()&&(h.unMute(),A.$child(0)._class_("fa-solid fa-volume-high")),k=Number(this.value),h.setVolume(k);var t=["fa-solid"];0===k?t.push("fa-volume-xmark"):k>75?t.push("fa-volume-high"):k<25?t.push("fa-volume-off"):t.push("fa-volume-low"),this.$next(0)._class_(t)}}),`i.fa-solid.${P?"fa-volume-xmark":0===v?"fa-volume-xmark":v>75?"fa-volume-high":v<25?"fa-volume-off":"fa-volume-low"}`._()._click(function(e){this.$parent(0).$$class("show")?this.$parent(0).class_("show"):this.$parent(0)._class("show")})]),A="button"._([`i.fa-solid.${P?"fa-volume-xmark":"fa-volume-high"}`._()._click(function(e){h&&(P=Boolean(!h.isMuted()),P?h.mute():h.unMute(),this._class_(`fa-solid ${P?"fa-volume-xmark":"fa-volume-high"}`))})]),N="button"._(["p"._("1")._click(function(e){if(h){switch(this.innerText){case"1":E=1.25;break;case"1.25":E=1.5;break;case"1.5":E=2;break;case"2":E=.5;break;case"0.5":E=1}this.innerText=String(E),h.setPlaybackRate(Number(E))}})]),F="button"._(["i.fa-solid.fa-expand"._()._click(function(e){if(h){var t="PDYTPlayer".$(),n=fullScreenMode=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;n?isMobile?f.pauseVideo():document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():isMobile?s():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}})]),I="input"._({style:{width:`calc(100% - 16px - 3 * 16px * ${g} ${T?"- 3 * 16px":""})`},type:"range",min:0,value:0})._input(function(e){h&&h.seekTo(Number(this.value))}),R="div.panel"._(),q="p"._("00:00:00"),V="maxresdefault",D="sddefault",C="hqdefault",O="mqdefault";onYouTubeIframeAPIReady=async function(){await l(),a(V).$$200(e=>e?H.$child(0).src=a(V):a(D).$$200(e=>e?H.$child(0).src=a(D):a(C).$$200(e=>e?H.$child(0).src=a(C):a(O).$$200(e=>e?H.$child(0).src=a(O):(alert("影片不存在"),L.$_()))))),h=new YT.Player("YTPlayer",{videoId:d,width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,showinfo:0,modestbranding:1,start:0,loop:0,fs:0,rel:0,cc_load_policty:0,iv_load_policy:3,autohide:1,playsinline:1},events:{onReady:function(e){t()},onStateChange:function(e){switch(e.data,e.data){case 0:o();break;case 1:n();break;case 2:r();break;default:i(!1)}}}}),isMobile&&(f=new YT.Player("YTPlayerFull",{videoId:d,width:"0",height:"0",playerVars:{autoplay:0,controls:0,showinfo:0,modestbranding:1,start:0,loop:0,fs:0,rel:0,cc_load_policty:0,iv_load_policy:3,autohide:1,playsinline:0},events:{onReady:function(e){},onStateChange:function(e){switch(e.data){case 0:c();break;case 1:u();break;default:h.seekTo(I.value),i(!1)}}}}))};var B=[];return y.forEach(e=>{"play"===e?B.push(Y):"timebar"===e?B.push(I):"volume"===e?B.push(j):"mute"===e?B.push(A):"time"===e?B.push(q):"rate"===e?B.push(N):"full"===e&&B.push(F)}),L._child([S,isMobile?x:null,H,R._child(B)])}}let isMobile=function(){var e=["Android","webOS","iPhone","iPad","iPod","BlackBerry","Windows Phone"];return e.filter(e=>navigator.userAgent.match(e)).length}();var onYouTubeIframeAPIReady;Array.prototype.$$num=Array.prototype.$$str=Array.prototype.$$obj=Array.prototype.$$elm=Object.prototype.$$num=Object.prototype.$$str=Object.prototype.$$ary=Object.prototype.$$elm=Number.prototype.$$str=Number.prototype.$$ary=Number.prototype.$$obj=Number.prototype.$$elm=String.prototype.$$num=String.prototype.$$ary=String.prototype.$$obj=String.prototype.$$elm=HTMLElement.prototype.$$num=HTMLElement.prototype.$$str=HTMLElement.prototype.$$ary=HTMLElement.prototype.$$obj=!1,Array.prototype.$$ary=Object.prototype.$$obj=Number.prototype.$$num=String.prototype.$$str=HTMLElement.prototype.$$elm=!0,Array.prototype._$=function(e){var t=[];return this.length&&this.forEach((n,r)=>{e(n,r)&&t.push(e(n,r))}),Array.from(t)},String.prototype.$$200=function(e){return new Promise((t,n)=>{var r=new Image;r.src=String(this),r.onload=function(t){90===this.naturalHeight||120===this.naturalWidth?e(!1):e(!0)},r.onerror=function(t){e(!1)}})},String.prototype.$$json=function(){try{JSON.parse(this)}catch(e){return!1}return!0},String.prototype._=function(e,t){var n=this.match(/^\w+(?=[\#\.]*)/)[0],r=this.match(/\#([\w_-]+)?/)?this.match(/\#([\w_-]+)?/)[1]:null,o=this.match(/\.([\w_-]+)?/g)?this.match(/\.([\w_-]+)?/g)._$(e=>e.replace(/^\./,"")).join(" "):null,i=document.createElement(n);r&&(i.id=r),o&&(i.className=o);var l=null,a=null;switch(!0){case!e&&!t:return i;case!e&&t:a=t;break;case e&&!t:l=e.length?null:e,a=e.length?e:null;break;default:l=e,a=t}return $$(l)&&Object.keys(l).forEach(e=>{"value"===e?i.value=l.value:"placeholder"===e?i.placeholder=l.placeholder:"style"===e?Object.keys(l.style).forEach(e=>i.style[e]=l.style[e]):i.setAttribute(e,l[e])}),$$null(a)?i:(a.$$str||a.$$num?i.innerHTML=a:a.$$elm?this.appendChild(a):a.$$ary&&a.length>0&&a.forEach(e=>{$$null(e)||(e.$$str||e.$$num?i.innerHTML+=e:e.$$elm&&i.appendChild(e))}),i)},String.prototype.$=function(){return/[\.\=\[\]\'\"]+/g.test(this)?document.querySelector(this):document.getElementById(this)},HTMLElement.prototype.$_=function(){return this.innerHTML=null,this},HTMLElement.prototype.$child=function(e){if(!$$null(e)){var t=this;switch(!0){case e.$$str:t=t.querySelector(e);break;case e.$$num:t=e<0?t.children[t.children.length+e]:t.children[e];break;case e.$$obj:e.forEach(e=>{e.$$str?t=t.querySelector(e):e.$$num&&(t=t.children[e])})}return t}},HTMLElement.prototype._child=function(e){return $$null(e)?this:(e.$$str||e.$$num?this.innerHTML+=e:e.$$elm?this.appendChild(e):e.$$ary&&e.length>0&&e.forEach(e=>{$$null(e)||(e.$$str||e.$$num?this.innerHTML+=e:e.$$elm&&this.appendChild(e))}),this)},HTMLElement.prototype.$attr=function(e){return $$(e)&&e.$$str?this.getAttribute(e):null},HTMLElement.prototype._attr=function(e){return $$(e)&&e.$$obj&&e.$forEach(t=>{$$(t)&&t.$$str&&this.setAttribute(t,e[t])}),this},HTMLElement.prototype.$next=function(e){var t=this.nextElementSibling;if(!e)return t;for(let n=0;n<e;n++)t=t.nextElementSibling;return t},HTMLElement.prototype.$parent=function(e){var t=this.parentElement;if(!e)return t;for(let n=0;n<e;n++)t=t.parentElement;return t},HTMLElement.prototype.$$class=function(e){return!$$null(e)&&this.classList.contains(e)},HTMLElement.prototype._class=function(e){if(e.$$ary)e.forEach(e=>this.classList.add(e));else if(e.$$str){var t=(e.split(",")||e.split(".")||e.split(" ")).filter(e=>e.replace(/\s/g,"").length);t.length?t.forEach(e=>this.classList.add(e)):this.classList.add(e)}return this},HTMLElement.prototype.class_=function(e){if($$null(e))this.className="";else if(e.$$ary)e.forEach(e=>this.classList.remove(e));else if(e.$$str){var t=(e.split(",")||e.split(".")||e.split(" ")).filter(e=>e.replace(/\s/g,"").length);t.length?t.forEach(e=>this.classList.remove(e)):this.classList.remove(e)}return this},HTMLElement.prototype._class_=function(e){return $$null(e)?this.className="":e.$$ary?this.className=e.join(" "):e.$$str&&(this.className=e),this},HTMLElement.prototype._attr=function(e){return $$(e)&&e.$$obj&&Object.keys(e).forEach(t=>{$$(t)&&t.$$str&&this.setAttribute(t,e[t])}),this},HTMLElement.prototype.attr_=function(e){if($$(e))switch(!0){case e.$$str:this.removeAttribute(e);break;case e.$$ary:e.forEach(e=>{$$(e)&&e.$$str&&this.removeAttribute(e)})}return this},HTMLElement.prototype._click=function(e){return this.onclick=e,this},HTMLElement.prototype._input=function(e){return this.oninput=e,this},HTMLElement.prototype._move=function(e){return this.onmousemove=e,this},function(){if(!window.YT)var e={loading:0,loaded:0};if(!window.YTConfig)var t={host:"http://www.youtube.com"};e.loading||(e.loading=1,function(){var n=[];e.ready=function(t){e.loaded?t():n.push(t)},window.onYTReady=function(){e.loaded=1;for(var t=0;t<n.length;t++)try{n[t]()}catch(e){}},e.setConfig=function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var r=document.createElement("script");r.type="text/javascript",r.id="www-widgetapi-script",r.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vfluwQm_X/www-widgetapi.js",r.async=!0;var o=document.currentScript;if(o){var i=o.nonce||o.getAttribute("nonce");i&&r.setAttribute("nonce",i)}var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}())}();